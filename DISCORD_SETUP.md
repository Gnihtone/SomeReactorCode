# Настройка Discord интеграции

## Создание Discord бота

1. Перейдите на https://discord.com/developers/applications
2. Нажмите "New Application" и введите имя для вашего бота
3. Перейдите в раздел "Bot" в левом меню
4. Нажмите "Add Bot"
5. Скопируйте токен бота (нажмите "Copy" под "Token")

## Добавление бота на сервер

1. В разделе "OAuth2" → "URL Generator" выберите:
   - Scopes: `bot`
   - Bot Permissions: `Send Messages`, `Read Message History`, `Embed Links`
2. Скопируйте сгенерированный URL и откройте его в браузере
3. Выберите сервер и добавьте бота

## Получение ID канала

1. В Discord включите режим разработчика:
   - Настройки → Дополнительно → Режим разработчика
2. Кликните правой кнопкой на канал → Копировать ID

## Настройка в OpenComputers

1. Откройте файл `src/vacuum_config.lua`
2. Найдите секцию `DISCORD` и измените настройки:

```lua
config.DISCORD = {
    ENABLED = true,  -- Включить интеграцию
    BOT_TOKEN = "ВАШ_ТОКЕН_БОТА",  -- Токен из шага 5
    CHANNEL_ID = "ID_КАНАЛА",  -- ID канала для сообщений
    LOG_CHANNEL_ID = "",  -- ID канала для логов (опционально)
    -- ... остальные настройки
}
```

3. Перезапустите сервер

## Команды Discord

После настройки вы можете использовать следующие команды в Discord:

- `!help` - список всех команд
- `!status` - общий статус системы
- `!reactors` - список всех реакторов
- `!start <имя|all>` - запустить реактор
- `!stop <имя|all>` - остановить реактор
- `!energy` - состояние энергохранилищ
- `!logs` - последние логи системы

## Уведомления

Система автоматически отправляет уведомления о:
- Запуске/остановке реакторов
- Аварийных ситуациях
- Необходимости обслуживания
- Приостановке из-за переполнения энергохранилищ
- Периодические обновления статуса (каждые 30 секунд)

## Требования

- OpenComputers с интернет-картой
- Активное подключение к интернету
- Discord бот с правами на отправку сообщений

## Устранение неполадок

1. **Бот не отвечает на команды**
   - Проверьте токен бота
   - Убедитесь, что бот имеет доступ к каналу
   - Проверьте логи сервера

2. **Ошибки HTTP**
   - Проверьте подключение к интернету
   - Убедитесь, что интернет-карта установлена

3. **Сообщения не отправляются**
   - Проверьте ID канала
   - Убедитесь, что бот имеет права на отправку сообщений 